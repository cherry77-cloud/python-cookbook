from collections import deque
from typing import Iterable, Generator, List, Tuple
import heapq

# https://docs.python.org/3/library/collections.abc.html
# https://docs.python.org/3/library/collections.html
# https://docs.python.org/3/library/heapq.html


"""
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1.1 å°†åºåˆ—åˆ†è§£ä¸ºå•ç‹¬å˜é‡ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ é€‚ç”¨å¯¹è±¡ : æ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ (å…ƒç»„ / åˆ—è¡¨ / å­—ç¬¦ä¸² / æ–‡ä»¶å¯¹è±¡ / è¿­ä»£å™¨ / ç”Ÿæˆå™¨ â€¦)
â­ æ•°é‡åŒ¹é… : å˜é‡æ•°é‡å¿…é¡»ä¸åºåˆ—å…ƒç´ æ•°é‡ä¸€è‡´ï¼Œå¦åˆ™æŠ› ValueError
â­ ç»“æ„åŒ¹é… : æ”¯æŒåµŒå¥—ç»“æ„è§£åŒ…ï¼Œä¾‹å¦‚ (year, mon, day) = date_tuple
â­ å ä½ç¬¦   : ä½¿ç”¨ä¸‹åˆ’çº¿ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼
â­ éƒ¨åˆ†è§£åŒ… : Python æ— ä¸“é—¨è¯­æ³•ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªå…ƒç´ æä¾›å˜é‡å (æˆ–å ä½ç¬¦)
â™»ï¸ å¯è¿­ä»£åˆ¤å®š : å¯¹è±¡åªéœ€å®ç° __iter__() å³è§†ä½œ Iterable
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä¸‡ç‰©çš†å¯¹è±¡  Everything is an Object (identity / type / value)
ğŸ”¥ğŸ”¥ğŸ”¥ Python è¿è¡ŒæœŸæŠŠä»»ä½•ä¸œè¥¿ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å‡½æ•°ã€ç±»ã€æ¨¡å—ã€None â€¦ï¼‰éƒ½è§†ä½œ object çš„ä¸€ä¸ªå®ä¾‹ã€‚
æ¯ä¸ªå¯¹è±¡è‡ªå¸¦ä¸‰å—æ ¸å¿ƒå…ƒä¿¡æ¯
â­ identity  â€” id(obj) è¿”å›çš„æ•´æ•°ï¼Œé€šå¸¸æ˜ å°„åˆ°å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼›åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚
â­ type â€” type(obj) è¿”å›å¯¹è±¡æ‰€å±çš„ classï¼Œå†³å®šå®ƒæ”¯æŒå“ªäº›æ“ä½œã€æ–¹æ³•ä¸è¿ç®—ç¬¦ã€‚
â­ value  â€” å¯¹è±¡å­˜å‚¨çš„æ•°æ®æœ¬ä½“ã€‚
   - ä¸å¯å˜å¯¹è±¡ (int, str, tuple, frozenset â€¦) ä¸€æ—¦åˆ›å»ºå…¶å€¼ä¸å¯ä¿®æ”¹ï¼›â€œä¿®æ”¹â€ ä¼šå¾—åˆ°æ–°å¯¹è±¡ï¼Œèº«ä»½æ”¹å˜ã€‚
   - å¯å˜å¯¹è±¡ (list, dict, set, bytearray â€¦) å¯åœ¨åŸèº«ä»½ä¸ŠåŸåœ°ä¿®æ”¹å…¶å€¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"""
# åŸºæœ¬è§£åŒ…
x, y = (4, 5)
# åˆ—è¡¨ + åµŒå¥—å…ƒç»„
data = ['ACME', 50, 91.1, (2012, 12, 21)]
name, shares, price, (year, mon, day) = data  # åµŒå¥—è§£åŒ…
# ä½¿ç”¨å ä½ç¬¦ _ å¿½ç•¥ä¸éœ€è¦çš„å€¼
_, shares, price, _ = data
# âŒ è§£åŒ…æ•°é‡ä¸åŒ¹é…ç¤ºä¾‹ (æŠ› ValueError)
try:
    a, b, c = (1, 2)
except ValueError as err:
    print("ValueError:", err)


"""
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1.2 è§£å‹å¯è¿­ä»£å¯¹è±¡èµ‹å€¼ç»™å¤šä¸ªå˜é‡ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ é€‚ç”¨åœºæ™¯ : å½“å¯è¿­ä»£å¯¹è±¡å…ƒç´ å¤šäºå˜é‡æ—¶ï¼Œç”¨ *var æ¥æ”¶å‰©ä½™å…ƒç´ 
â­ æ”¶é›†ç±»å‹ : *var æ°¸è¿œæ˜¯ listï¼ˆå³ä¾¿ä¸ºç©ºï¼‰
â­ ä½ç½®çµæ´» : *var å¯åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾ï¼ˆ*head, last / first, *mid, last / first, *tailï¼‰
â­ å ä½ç¬¦   : è‹¥ä»…æƒ³ä¸¢å¼ƒä½™ä¸‹å…ƒç´ ï¼Œç”¨ *_ æˆ–å…¶ä»–å ä½å
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"""
def drop_first_last(grades):                     # grades = [10, 9, 8, 7, 6]
    first, *middle, last = grades
    return sum(middle) / len(middle)             # â†’ 8.0

record = ('Dave', 'dave@example.com', '773-555-1212', '847-555-1212')
name, email, *phones = record  # name='Dave', email='dave@example.com', phones=['773-555-1212','847-555-1212']
line = 'nobody:*:-2:-2:Unprivileged User:/var/empty:/usr/bin/false'
uname, *_, homedir, shell = line.split(':')       # uname='nobody', homedir='/var/empty', shell='/usr/bin/false'


"""
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1.3 ä¿ç•™æœ€å N ä¸ªå…ƒç´  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ é—®é¢˜     : è¿­ä»£æˆ–å…¶ä»–æ“ä½œä¸­ï¼Œä»…éœ€ä¿ç•™æœ€è¿‘ N æ¡è®°å½•
â­ è§£å†³æ–¹æ¡ˆ : ä½¿ç”¨ collections.deque(maxlen=N) è‡ªåŠ¨ä¸¢å¼ƒæœ€è€å…ƒç´ 
â­ ç‰¹ç‚¹     : append æ“ä½œ O(1)ï¼Œæ»¡æ—¶è‡ªåŠ¨å‰”é™¤é˜Ÿé¦–ï¼›appendleft, pop, popleft åŒæ ·é«˜æ•ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ å®¹å™¨ (Container)
   â€¢ å®šä¹‰ : å®ç° __contains__(self, item) æˆ–æ”¯æŒ in è¿ç®—çš„å¯¹è±¡ï¼Œå¯å­˜æ”¾å…¶ä»–å¯¹è±¡çš„ç›’å­
   â€¢ å…¸å‹ : list, tuple, set, dict, str, deque, è‡ªå®šä¹‰ç±»å®ç° __iter__/__len__/__contains__ äº¦å¯è§†ä¸ºå®¹å™¨
   â€¢ ç‰¹æ€§ : å¯é…åˆ len(), in, è¿­ä»£ç­‰æ“ä½œ; å¤šæ•°å®¹å™¨åŒæ ·æ˜¯ Iterable / Collection
â­ ç”Ÿæˆå™¨ (Generator)
   â€¢ å®šä¹‰ : å«æœ‰ yield çš„å‡½æ•°è°ƒç”¨ç»“æœï¼Œè¿”å›ä¸€ä¸ªå»¶è¿Ÿè®¡ç®—çš„è¿­ä»£å™¨ï¼›æˆ– (expr for x in iterable) æ¨å¯¼å¼äº§ç”Ÿ
   â€¢ åè®® : åŒæ—¶å®ç° __iter__() å’Œ __next__()ï¼Œæ¯æ¬¡ next() äº§å‡ºä¸€ä¸ªå€¼ï¼Œç›´è‡³æŠ› StopIteration
   â€¢ ä¼˜åŠ¿ : æƒ°æ€§ã€èŠ‚çœå†…å­˜ï¼Œå¯æ— é™åºåˆ—æˆ–å¤§æ•°æ®æµ; å¯é…åˆ send() /throw() /close() åšåç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"""
def search(lines: Iterable[str], pattern: str, history: int = 3) -> Generator[Tuple[str, List[str]], None, None]:
    prev: deque[str] = deque(maxlen=history)
    for line in lines:
        if pattern in line:
            yield line, list(prev)
        prev.append(line)

logs = ['a','python error','b','c','python ok','d']
for match, prev in search(logs, 'python', history=2):
    print(match, prev)                          # â†’ 'python error', ['a']
                                                # â†’ 'python ok', ['b', 'c']


"""
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1.4 æŸ¥æ‰¾æœ€å¤§æˆ–æœ€å°çš„ N ä¸ªå…ƒç´  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ åœºæ™¯     : ä»åºåˆ—æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­å¿«é€Ÿè·å¾—æœ€å¤§ / æœ€å°çš„å‰ N ä¸ªå…ƒç´ 
â­ æ ¸å¿ƒ API : heapq.nlargest(N, data, key=...) / heapq.nsmallest(...)
â­ æ€§èƒ½ä¼˜åŠ¿ : å½“ N â‰ª æ•°æ®é‡æ—¶ï¼Œå¤æ‚åº¦ ~ O(len(data) Â· log N)ï¼Œä¼˜äºæ•´ä½“æ’åº
â€¢ N == 1          â†’ ç›´æ¥ç”¨ min() / max() æ›´å¿«
â€¢ N æ¥è¿‘æ•°æ®é‡     â†’ ç›´æ¥æ’åºååˆ‡ç‰‡; sorted(data)[:N] / [-N:]
â€¢ N è¿œå°äºæ•°æ®é‡   â†’ heapq.nlargest/nsmallest ä¼˜åŠ¿æœ€å¤§
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å¸¸ç”¨å †æ“ä½œ APIï¼ˆheapq æ¨¡å—ï¼‰
â­ heapq.heapify(seq)
   â€¢ å°†ä»»æ„åºåˆ—åŸåœ°è½¬æˆæœ€å°å †ï¼›æ—¶é—´å¤æ‚åº¦ O(len(seq))
â­ heapq.heappush(heap, item)
   â€¢ å‘å †æ’å…¥æ–°å…ƒç´ å¹¶ä¿æŒå †æ€§è´¨
â­ heapq.heappop(heap)
   â€¢ å¼¹å‡ºå¹¶è¿”å›æœ€å°å…ƒç´ ï¼ˆå †é¡¶ï¼‰
â­ heapq.heappushpop(heap, item)
   â€¢ å…ˆ push å† popï¼Œä½†åªåšä¸€æ¬¡å¹³è¡¡ï¼›æ¯”å…ˆ push å† pop æ›´å¿«
â­ heapq.heapreplace(heap, item)
   â€¢ å…ˆ pop æœ€å°å…ƒç´ ï¼Œå† push æ–°å…ƒç´ ï¼›ä¸ heappushpop ä½œç”¨ç›¸å
â­ heapq.merge(*iterables)
   â€¢ å¤šä¸ªå·²æ’åºè¾“å…¥æŒ‰é¡ºåºåˆå¹¶ç”Ÿæˆå™¨ï¼ŒèŠ‚çœå†…å­˜ï¼›é€‚åˆå¤–æ’åº
â© è®°å¿†è¦ç‚¹ï¼šheap[0] æ°¸è¿œæ˜¯æœ€å°å€¼ï¼Œæ‰€æœ‰æ“ä½œéƒ½å›´ç»•ç»´æŠ¤è¿™ä¸€ä¸å˜å¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"""
nums = [1, 8, 2, 23, 7, -4, 18, 23, 42, 37, 2]
heapq.nlargest(3, nums)   # â†’ [42, 37, 23]
heapq.nsmallest(3, nums)  # â†’ [-4, 1, 2]
portfolio = [
    {'name': 'IBM',  'shares': 100, 'price': 91.1},
    {'name': 'AAPL', 'shares': 50,  'price': 543.22},
    {'name': 'FB',   'shares': 200, 'price': 21.09},
    {'name': 'HPQ',  'shares': 35,  'price': 31.75},
    {'name': 'YHOO', 'shares': 45,  'price': 16.35},
    {'name': 'ACME', 'shares': 75,  'price': 115.65},
]
cheap      = heapq.nsmallest(3, portfolio, key=lambda s: s['price'])
expensive  = heapq.nlargest(3,  portfolio, key=lambda s: s['price'])


"""
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1.5 å®ç°ä¸€ä¸ªä¼˜å…ˆçº§é˜Ÿåˆ— (Priority Queue) â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ åœºæ™¯     : éœ€è¦æŒ‰ä¼˜å…ˆçº§ï¼ˆæƒé‡ï¼‰ä¾æ¬¡å–å…ƒç´ ï¼Œæœ€é«˜ä¼˜å…ˆçº§å…ˆå‡ºé˜Ÿ
â­ æ•°æ®ç»“æ„ : heapq + å…ƒç»„ (-priority, index, item) å½¢æˆç¨³å®šçš„æœ€å¤§å †
â­ å¤æ‚åº¦   : push / pop å‡ä¸º O(logâ€†n)ï¼Œé€‚åˆæµ·é‡æ•°æ®
â­ index   : é¿å…åŒä¼˜å…ˆçº§å…ƒç´ ä¸å¯æ¯”è¾ƒï¼Œå¹¶ç¡®ä¿ FIFO é¡ºåº
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"""
class PriorityQueue:
    """æœ€å¤§å †ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæ”¯æŒåŒä¼˜å…ˆçº§ FIFOã€‚"""
    def __init__(self):
        self._queue: list[tuple[int, int, object]] = []  # (-priority, index, item)
        self._index: int = 0

    def push(self, item, priority: int) -> None:
        # -priority â†” æœ€å¤§å †ï¼›index ä¿è¯åŒä¼˜å…ˆçº§æŒ‰æ’å…¥é¡ºåº (ç¨³å®š)
        heapq.heappush(self._queue, (-priority, self._index, item))
        self._index += 1

    def pop(self):
        """å¼¹å‡ºä¼˜å…ˆçº§æœ€é«˜ä¸”æœ€æ—©æ’å…¥çš„å…ƒç´ """
        return heapq.heappop(self._queue)[-1]


"""
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 1.6 å­—å…¸ä¸­çš„é”®æ˜ å°„å¤šä¸ªå€¼ (Multiâ€‘Dict) â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â­ åœºæ™¯     : éœ€è¦è®©åŒä¸€ä¸ªé”®å…³è”å¤šä¸ªå€¼ï¼ˆå¦‚æ—¥å¿—å½’ç±»ã€å€’æ’ç´¢å¼•ï¼‰
â­ æ¨èåšæ³• : collections.defaultdict( list / set ) â€”â€” è‡ªåŠ¨åˆå§‹åŒ–å®¹å™¨
â­ ä½•æ—¶ç”¨å“ªç§å®¹å™¨
   â€¢ list  â†’ ä¿ç•™æ’å…¥é¡ºåºï¼Œå…è®¸é‡å¤
   â€¢ set   â†’ å»é‡ä¸”ä¸å…³å¿ƒé¡ºåº
"""
list_map: defaultdict[str, list[int]] = defaultdict(list)
list_map['a'].append(1)
list_map['a'].append(2)
list_map['b'].append(4)
# list_map == {'a': [1, 2], 'b': [4]}

set_map: defaultdict[str, set[int]] = defaultdict(set)
set_map['a'].add(1)
set_map['a'].add(2)
set_map['a'].add(2)  # é‡å¤è¢«å¿½ç•¥
set_map['b'].add(4)
# set_map == {'a': {1, 2}, 'b': {4}}
